<html>
<head>
    <meta charset="UTF-8">
    <title>Angular Sticky Table Header</title>
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" />
    <script src="https://code.angularjs.org/1.2.16/angular.js"></script>
    <script src="bower_components/fetch/fetch.js"></script>
    <script src="angular-sticky-table-header.js"></script>
    <script>
    (function () {

        'use strict';

        var module = angular.module('angular-sticky-table-header');

        function responseAsJsonPromise(response) {
            return response.json();
        }
        
        function loadPeople($q) {

            var deferred = $q.defer();

            window.fetch('https://randomuser.me/api/?results=50')
                .then(responseAsJsonPromise)
                .then(function (response) {
                   deferred.resolve(response.results);
                });

            return deferred.promise;
        }
        
        function loadUsers($q) {
            return window.fetch('https://www.mockaroo.com/1f5387b0/download?count=100&key=1f20ad30').then(responseAsJsonPromise);
        }

        module.controller('controller', ['$scope', '$window', '$q', function ($scope, $window, $q) {
            
            loadPeople($q).then(function (people) {
                $scope.people = people;
            });
            
            loadUsers($q).then(function (users) {
               $scope.users = users; 
            });

        }]);
        
    }());
    </script>
    <style>
        body {
            margin: 20px;
        }
    </style>
</head>
<body ng-app="angular-sticky-table-header" ng-controller="controller">
    
    <h1>Angular Sticky Table Header</h1>

    <ul style="margin-bottom: 20px">
        <li>Showcase page for the angular sticky table header directive.</li>
        <li>It is a simple to use directive that you just add as an attribute to a &lt;table&gt; element.</li>
        <li>It can be used on tables with multi-level headers</li>
        <li>The table can contain images</li>
        <li>You can have content above and below</li>
        <li>Columns are resized fairly well</li>
    </ul>
    <table class="table table-hover table-condensed table-bordered table-striped" ng-sticky-header ng-sticky-header-update="people">
        <thead>
            <tr>
                <th rowspan="2">Title</th>
                <th colspan="2">Name</th>
                <th rowspan="2">Gender</th>
                <th rowspan="2">Email</th>
                <th rowspan="2">Picture</th>
            </tr>
            <tr>
                <th>First</th>
                <th>Last</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="person in people">
                <td style="text-transform:capitalize">{{person.name.title}}</td>
                <td style="text-transform:capitalize">{{person.name.first}}</td>
                <td style="text-transform:capitalize">{{person.name.last}}</td>
                <td style="text-transform:capitalize">{{person.gender}}</td>
                <td>{{person.email}}</td>
                <td><img ng-src="{{person.picture.thumbnail}}" alt="image showing person" style="border: 2px outset;"></td>                
            </tr>
        </tbody>
    </table>
    
    <h2>Second table</h2><p>
        Added a second table to show that you can have more than one table on the same page.
    </p>
    <table class="table table-hover table-condensed table-bordered table-striped" ng-sticky-header ng-sticky-header-update="users">
        <thead>
            <tr>
                <th rowspan="2">ID</th>
                <th colspan="2">User</th>
                <th colspan="2">Access</th>
            </tr>
            <tr>
                <th>Username</th>
                <th>Password</th>
                <th>Last login IP</th>
                <th>Last accessed URL</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="user in users">
                <td>{{user.id}}</td>
                <td>{{user.username}}</td>
                <td>{{user.password}}</td>
                <td>{{user.last_login_ip}}</td>
                <td>{{user.last_accessed_url}}</td>
            </tr>
        </tbody>
    </table>
    
    <h2>Table data</h2><p>
        The table is filled with data from <a href="https://randomuser.me/">https://randomuser.me/</a>
    </p>
    
    <h2>Copyright Notice</h2><p>
        All randomly generated photos were hand picked from the authorized
        section of <a href="http://uifaces.com">UI Faces</a>. Please visit 
        <a href="http://uifaces.com/faq">UI Faces FAQ</a> for more information 
        regarding how you can use these faces.
    </p>
    
    <h2>Github</h2><p>
        If you want to file an issue or otherwise contribute to the code, feel free to visit the 
        <a href="https://github.com/larsjueljensen/angular-sticky-table-header">github source page</a>.
    </p>
</body>
</html>